{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","imageSearch","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ApiService","API_KEY","BASE_URL","page","a","url","fetch","response","json","data","hits","ImageGalleryItem","img","tags","webformatURL","onClick","largeImageURL","ImageGalleryItem_image","src","alt","Button","id","apiService","ImageGallery","gallery","error","status","handleOnLoadMoreClick","prevState","prevProps","prevName","nextName","prevPage","nextPage","fetchImage","then","catch","document","getElementById","scrollIntoView","block","behavior","message","map","modalRoot","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","App","largeImage","showModal","toggleModal","handleFormSubmit","console","log","setTarget","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.32612906.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2EmpF\",\"SearchForm\":\"Searchbar_SearchForm__38YWk\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1I8hf\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1SXd2\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1jUOz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2RsC_\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1jOBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3t4_y\",\"Modal\":\"Modal_Modal__operj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__4VT92\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1p0Yl\"};","import { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n\r\n    state = {\r\n        imageSearch: '',\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({ imageSearch: e.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.imageSearch);\r\n        this.setState({ imageSearch: '' });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchForm_button}>\r\n                        <span className={s.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchForm_input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.imageSearch}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\n// ContactList.propTypes = {\r\n//   contacts: PropTypes.arrayOf(PropTypes.object),\r\n//   onDeleteContact: PropTypes.func,\r\n// };\r\n\r\nexport default Searchbar;","\r\nexport default class ApiService {\r\n    constructor() {\r\n        this.API_KEY = '23647546-0c9963079c4ed781ee6b1e575';\r\n        this.BASE_URL = 'https://pixabay.com/api/';\r\n    }\r\n\r\n    async fetchImage(imageSearch, page) {\r\n        const url = `${this.BASE_URL}?image_type=photo&orientation=horizontal&q=${imageSearch}&page=${page}&per_page=12&key=${this.API_KEY}`\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        return data.hits;\r\n    }\r\n\r\n}","import PropTypes from \"prop-types\";\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ img: {\r\n    tags,\r\n    webformatURL,\r\n    onClick,\r\n  largeImageURL,\r\n}, \r\n}) {\r\n  return (\r\n      <li className={s.ImageGalleryItem}\r\n      onClick={() => onClick({ largeImageURL })}\r\n    >\r\n          <img className={s.ImageGalleryItem_image} src={webformatURL} alt={tags} />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;","import PropTypes from \"prop-types\";\r\nimport s from './Button.module.css';\r\n\r\n\r\nfunction Button({ onClick }) {\r\n    return (\r\n        <button type=\"button\" id=\"btn\" className={s.Button} onClick={onClick}>Load more</button>\r\n  );\r\n}\r\n\r\nexport default Button;","import { Component } from \"react\";\r\nimport ApiService from '../../services/api';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst apiService = new ApiService();\r\n\r\nclass ImageGallery extends Component {\r\n\r\n    state = {\r\n        gallery: [],\r\n        error: null,\r\n        status: 'idle',\r\n        page: 1\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevName = prevProps.imageSearch;\r\n        const nextName = this.props.imageSearch;\r\n        const prevPage = prevState.page;\r\n        const nextPage = this.state.page;\r\n\r\n        if (prevName !== nextName) {\r\n            this.setState({ status: 'pending' });\r\n            apiService.fetchImage(nextName)\r\n                .then(gallery => this.setState({ gallery, status: 'resolved' }))\r\n                .catch(error => this.setState({ error, status: 'rejected' }))\r\n        }\r\n\r\n        if (prevPage !== nextPage) {\r\n            this.setState({ status: 'pending' });\r\n            apiService.fetchImage(prevName, this.state.page)\r\n                .then(gallery => {this.setState({ gallery: [...prevState.gallery, ...gallery], status: 'resolved' });\r\n                document.getElementById('btn').scrollIntoView({ block: 'center', behavior: 'smooth' });\r\n        }).catch(error => this.setState({ error, status: 'rejected' }))\r\n        }\r\n\r\n    }\r\n\r\n    handleOnLoadMoreClick = () => {\r\n        this.setState(prevState => ({\r\n        page: prevState.page + 1,\r\n    }));\r\n        }\r\n\r\n    render() {\r\n\r\n        const { gallery, error, status } = this.state;\r\n\r\n        if (status === 'idle') {\r\n            return <div>Введите имя покемона</div>\r\n        }\r\n\r\n        if (status === 'pending') {\r\n            return <div>Загружаем</div>\r\n        }\r\n\r\n        if (status === 'rejected') {\r\n            return <h1>{error.message}</h1>\r\n        }\r\n\r\n         if (status === 'resolved') {\r\n             return (\r\n            <div>\r\n                <ul className={s.ImageGallery}>\r\n                     {gallery.map((img) => (\r\n                         <ImageGalleryItem key={img.id} img={img} onClick={this.props.onClick}/>\r\n                    ))}\r\n                     </ul>\r\n                     <Button onClick={this.handleOnLoadMoreClick}/>\r\n                     \r\n            </div>\r\n             )\r\n            \r\n        }\r\n}\r\n}\r\n\r\nexport default ImageGallery;","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n// import PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n      window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    e.code === 'Escape' && this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {this.props.onClose();}\r\n  };\r\n\r\n  render() {\r\n      return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport \"./App.css\";\n\nclass App extends Component {\n\n  state = {\n    imageSearch: '',\n    largeImage: '',\n    showModal: false,\n  }\n\n   toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  handleFormSubmit = imageSearch => {\n    this.setState({ imageSearch });\n    console.log(imageSearch);\n  };\n\n  setTarget = largeImage => {\n    this.setState({ largeImage, showModal: true });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit}/>\n        <ImageGallery imageSearch={this.state.imageSearch} onClick={this.setTarget} />\n        {this.state.showModal && (<Modal onClose={this.toggleModal}><img src={this.state.largeImage} alt=\"\"/></Modal>)}\n      </div>\n      );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}